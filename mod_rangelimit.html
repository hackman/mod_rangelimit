<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1251">
<title>mod_rangelimit - Apache HTTP Server</title>
<link href="css/manual.css" rel="stylesheet" media="all" type="text/css" title="Main stylesheet">
<link href="css/manual-loose-100pc.css" rel="alternate stylesheet" media="all" type="text/css" title="No Sidebar - Default font size">
<link href="css/manual-print.css" rel="stylesheet" media="print" type="text/css">
<link href="images/favicon.ico" rel="shortcut icon"></head>
<body>
<div id="page-header">
<p class="menu"><a href="/manual/en/mod/index.html"><br>
</a><a href="/manual/en/sitemap.html"></a></p>
<p class="apache">A Module for Apache Version 1.3 or later</p>
</div>
<div id="path">
<br>
</div>
<div id="page-content">
<div id="preamble"><h1>Apache Module mod_rangelimit</h1>
<div class="toplang">
<p><span>Available Languages: </span><a href="#" title="English">&nbsp;en&nbsp;</a></p>
</div>
<table class="module"><tbody><tr><th><a href="/manual/en/mod/module-dict.html#Description">Description:</a></th>
<td>Apache module to protect against DoS using the Range header attack
<br></td></tr>
<tr><th><a href="/manual/en/mod/module-dict.html#Status">Status:</a></th><td>Extension</td></tr>
<tr><th><a href="/manual/en/mod/module-dict.html#ModuleIdentifier">Module&nbsp;Identifier:</a></th><td>rangelimit_module</td></tr>
<tr><th><a href="/manual/en/mod/module-dict.html#SourceFile">Source&nbsp;File:</a></th><td>mod_rangelimit.c</td></tr>
<tr><th><a href="/manual/en/mod/module-dict.html#Compatibility">Compatibility:</a></th><td>Version 1.3 and later</td></tr></tbody></table>
<h3>Summary</h3>
<p><code class="module"><span style="text-decoration: underline;">mod_rangelimit</span></code>
aims to provide protection from the DoS attacks using the Range header in Apache.<br />
<br />
It does so by analyzing the ranges supplied in the Range header.<br />
<br />
It is checking the headers before mod_setenvif and if there is even one invalid range in the request the whole request is declined.<br />
<br />
The module also checks the number of supplied ranges and the number of overlapping ranges.<br />
</p>
</div>
<br>


<div class="top"><a href="#page-header"><img alt="top" src="images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="maxranges" id="maxranges">MaxRanges Directive</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Defines the maximum number of ranges in a single Range header.</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntax:</a></th><td><code>MaxRangers <var>number</var> <var>(default: 20)</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Context:</a></th><td>server config, virtual host</td></tr>
<tr><th><a href="directive-dict.html#Override">Override:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Status:</a></th><td>Base</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rangelimit</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibility:</a></th><td>Apache 1.3 and later</td></tr>

</table>
    <p>This directive adds an action, which will activate
    <var>cgi-script</var> when <var>action-type</var> is triggered by
    the request.  The <var>cgi-script</var> is the URL-path to a
    resource that has been designated as a CGI script using <code class="directive"><a href="../mod/mod_alias.html#scriptalias">ScriptAlias</a></code> or <code class="directive"><a href="../mod/mod_mime.html#addhandler">AddHandler</a></code>.  The
    <var>action-type</var> can be either a <a href="../handler.html">handler</a> or a <a class="glossarylink" href="../glossary.html#mime-type" title="see glossary">MIME content type</a>. It sends the URL and
    file path of the requested document using the standard CGI
    <code>PATH_INFO</code> and <code>PATH_TRANSLATED</code>

    environment variables. The handler used for the particular request
    is passed using the <code>REDIRECT_HANDLER</code> variable.</p>

    <div class="example"><h3>Examples</h3><p><code>
      # Maximum number of ranges in the Range header<br />
      MaxRanges 30<br />
      <br />
    </code></p></div>

</div>

<div class="top"><a href="#page-header"><img alt="top" src="images/up.gif" /></a></div>
<div class="directive-section"><h2><a name="maxoverlappingranges" id="maxoverlappingranges">MaxOverlappingRanges Directive</a></h2>
<table class="directive">
<tr><th><a href="directive-dict.html#Description">Description:</a></th><td>Defines the maximum number of overlapping ranges in a single Range header.</td></tr>
<tr><th><a href="directive-dict.html#Syntax">Syntax:</a></th><td><code>MaxRangers <var>number</var> <var>(default: 5)</var></code></td></tr>
<tr><th><a href="directive-dict.html#Context">Context:</a></th><td>server config, virtual host</td></tr>
<tr><th><a href="directive-dict.html#Override">Override:</a></th><td>FileInfo</td></tr>
<tr><th><a href="directive-dict.html#Status">Status:</a></th><td>Base</td></tr>
<tr><th><a href="directive-dict.html#Module">Module:</a></th><td>mod_rangelimit</td></tr>
<tr><th><a href="directive-dict.html#Compatibility">Compatibility:</a></th><td>Apache 1.3 and later</td></tr>

</table>
    <p>This directive adds a limit of the number of ranages that can overlap in a single Range header in one request.

    <div class="example"><h3>Examples</h3><p><code>
      # Maximum number of overlapping ranges in the Range header<br />
      MaxOverlappingRanges 10<br />
      <br />
    </code></p></div>

</div>

<div class="top"><a href="#page-header"><img alt="top" src="images/up.gif"></a></div>

<div class="bottomlang"><p><span>Available Languages: </span><a href="#" title="English">&nbsp;en&nbsp;</a></p>
</div>
<div id="footer">
<p class="apache">Copyright 2011 Marian Marinov &lt;mm@yuhu.biz&gt;.<br>
Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
</p>
</div>
</div></body></html>
